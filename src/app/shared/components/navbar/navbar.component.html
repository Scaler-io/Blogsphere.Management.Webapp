<nav class="navbar d-flex justify-content-between align-items-center p-sm border-bottom">
    <div class="navbar__brand d-flex align-items-center">
        <span class="material-symbols-outlined navbar__brand--icon p-md ml-md" matRipple (click)="toggleSidenav()">more_horiz</span>
        <div class="d-flex align-items-center">
            <img src="../../../../assets/svgs/blogsphere.logo.svg" alt="Blogsphere Logo"/>
            <h2 class="navbar__brand--text mt-md">logsphere</h2>
        </div>
    </div>
    <ng-container *ngIf="!(isMobileView$ | async)">
        <div class="navbar__nav d-flex align-items-center text-2xl mr-lg">
            <div class="navbar__nav--item mt-md">
                <span class="material-symbols-outlined">Notifications</span>
                <span>3</span>
            </div>
            <div class="navbar__nav--item avatar">
                <div class="avatar--name text-medium gap-md" [matMenuTriggerFor]="userActionMenu" #userMenuTrigger="matMenuTrigger">
                    {{ (authUser$ | async).email  }}
                    <span class="material-symbols-outlined">{{ userMenuTrigger.menuOpen ? "keyboard_arrow_up" : "keyboard_arrow_down" }}</span>
                </div>
                <!-- <img src="../../../../assets/images/avatar.png" alt="Avatar" class="avatar--image"> -->
            </div>
        </div>
    </ng-container>

    <ng-container *ngIf="isMobileView$ | async">
        <div class="navbar__nav--mobile">
            <span class="material-symbols-outlined mt-1" matRipple (click)="toggleAccordion()">menu</span>
        </div>
    </ng-container>
</nav>


<!-- Material mobile navigation menu -->
<div *ngIf="isMobileView$ | async">
    <mat-accordion multi>
        <mat-expansion-panel>
        <li class="mat-expansion-panel--list-item" matRipple>
            <span class="material-symbols-outlined">person</span>
            <span>My Profile</span>
        </li>
        <li class="mat-expansion-panel--list-item" matRipple>
            <span class="material-symbols-outlined">settings</span>
            <span>Account</span>
        </li>
        <li class="mat-expansion-panel--list-item" matRipple (click)="signout()">
            <span class="material-symbols-outlined text-warn">power_settings_new</span>
            <span>Logout</span>
        </li>
        </mat-expansion-panel>
    </mat-accordion>
</div>

<!-- Material profile menu -->
<mat-menu #userActionMenu="matMenu">
    <div mat-button mat-menu-item>
        <span class="material-symbols-outlined">person</span>
        <span>My profile</span>
      </div>
      <div mat-button mat-menu-item>
        <span class="material-symbols-outlined">settings</span>
        <span>Account</span>
      </div>
      <div mat-button mat-menu-item (click)="signout()">
        <span class="material-symbols-outlined">power_settings_new</span>
        <span>Logout</span>
      </div>
</mat-menu>